(function(){var t=[].slice;!function(n){var r,i,e,s,o,u,c;return o=function(t){return"[object Array]"===toString.call(t)},u=function(t){return!isNaN(parseInt(t,10))},s=function(t){var n,r,i;for(n=void 0,r=void 0,i=void 0,r=1;r<arguments.length;){n=arguments[r];for(i in n)n.hasOwnProperty(i)&&(t[i]=n[i]);r++}return t},c={ad:"ad",premium:"premium",ugc:"ugc",live:"live",duration:"duration",index:"index",id:"id",name:"name",publisher:"publisher",show:"show",url:"url",classification:"classificaiton"},i={video:{shortform:{premium:"vc11",ugc:"vc21"},longform:{premium:"vc12",ugc:"vc22"},live:{premium:"vc13",ugc:"vc23"},audio:"ac00","default":"vc00"},ad:{preroll:"va11",midroll:"va12",postroll:"va13",live:"va21",audio:"aa00","default":"va00"}},r=function(){function n(t,n){this.ad(n[c.ad]),this.premium(n[c.premium]),this.ugc(n[c.ugc]),this.duration(n[c.duration]),this.index(t),this.id(n[c.id]),this.name(n[c.name]),this.publisher(n[c.publisher]),this.show(n[c.show]),this.url(n[c.url]),this.classification(n[c.classification])}var r,e,s;return e=!1,s=!1,r=!1,n.prototype.ns_st_ad=!1,n.prototype.ns_st_cl=null,n.prototype.ns_st_cn=null,n.prototype.ns_st_ci=null,n.prototype.ns_st_ep=null,n.prototype.ns_st_pu=null,n.prototype.ns_st_pr=null,n.prototype.ns_st_cu=null,n.prototype.ns_st_ct=null,n.prototype.ad=function(){var n,r;return n=1<=arguments.length?t.call(arguments,0):[],r=null!=n?n[0]:void 0,(null!=r?r.toString():void 0)&&(this.ns_st_ad=r),this.ns_st_ad},n.prototype.ugc=function(){var n,r;return n=1<=arguments.length?t.call(arguments,0):[],r=null!=n?n[0]:void 0,(null!=r?r.toString():void 0)&&(s=r),s},n.prototype.premium=function(){var n,r;return n=1<=arguments.length?t.call(arguments,0):[],r=null!=n?n[0]:void 0,(null!=r?r.toString():void 0)&&(e=r),e},n.prototype.live=function(){var n,i;return n=1<=arguments.length?t.call(arguments,0):[],i=null!=n?n[0]:void 0,(null!=i?i.toString():void 0)&&(r=i),r},n.prototype.duration=function(t,n){return n&&(t=1e3*t),t&&(this.ns_st_cl=Math.round(t)),this.ns_st_cl||0},n.prototype.index=function(t){return t&&(this.ns_st_cn=t),this.ns_st_cn},n.prototype.id=function(t){return t&&(this.ns_st_ci=t),this.ns_st_ci},n.prototype.name=function(t){return t&&(this.ns_st_ep=t),this.ns_st_ep},n.prototype.publisher=function(t){return t&&(this.ns_st_pu=t),this.ns_st_pu},n.prototype.show=function(t){return t&&(this.ns_st_pr=t),this.ns_st_pr},n.prototype.url=function(t){return t&&(this.ns_st_cu=t),this.ns_st_cu},n.prototype.classification=function(t){var n;return t&&(this.ns_st_ct=t),n=function(t){return function(){return t.duration()/1e3>=600}}(this),this.ad()?this.ns_st_ct=i.ad.preroll:this.live()?(this.premium()&&(this.ns_st_ct=i.video.live.premium),this.ugc()&&(this.ns_st_ct=i.video.live.ugc)):n()?(this.premium()&&(this.ns_st_ct=i.video.longform.premium),this.ugc()&&(this.ns_st_ct=i.video.longform.ugc)):(this.premium()&&(this.ns_st_ct=i.video.shortform.premium),this.ugc()&&(this.ns_st_ct=i.video.shortform.ugc)),this.ns_st_ct||(this.ns_st_ct=i.video["default"]),this.ns_st_ct},n}(),e=function(t,n,e){var l,a,p,h,_,d,f,m,v,g,y,S,E,w,P,b,A,F,U,C,N;if(!u(t))throw new Error("The first argument should be your comScore ID");if(!o(n))throw new Error("The second argument should be an array (can be empty)");return f={BUFFER:ns_.StreamSense.PlayerEvents.BUFFER,END:ns_.StreamSense.PlayerEvents.END,PLAY:ns_.StreamSense.PlayerEvents.PLAY,PAUSE:ns_.StreamSense.PlayerEvents.PAUSE},b=this,C=new ns_.StreamSense({},"//b.scorecardresearch.com/p?c1=2&c2="+t),h=null,p=[],e&&(c=s({},c,e)),_=0,U=!1,F=0,S=function(){return p=E(n),p.length>0?C.setPlaylist(p):void 0},E=function(t){return t.map(function(t,n){return new r(n,t)})},m=function(t){var n,r,i;for(r=0,i=p.length;i>r;r++)if(n=p[r],t===n.url())return n},g=function(){return m(b.currentSrc())},y=function(){return Math.round(1e3*b.currentTime())},v=function(t){return t>=0?p[t]:p},N=function(){return h=g(),h.url(b.currentSrc()),h.duration(b.duration(),!0),C.setClip(h)},a=function(){var t;return t=!U&&F++>3,t&&_===y()?(U=!0,F=0,l(_),!0):U&&_!==y()?(P(_),U=!1,F=0,!1):!1},P=function(t){return C.notify(f.PLAY,{},t)},w=function(t){return C.notify(f.PAUSE,{},t)},d=function(t){return C.notify(f.END,{},t)},l=function(t){return C.notify(f.BUFFER,{},t)},A=function(){return a(),_=y()},b.on("durationchange",function(){return N()}),b.on("play",function(){return P(_)}),b.on("ended",function(){return d(h.duration())}),b.on("pause",function(){return w(_)}),b.on("progress",A),b.comscore={play:P,pause:w,end:d,buffer:l,getClips:v,getCurrentClip:g,updateLoadedClip:N,classificationTypes:i},S(),b.comscore},n.plugin("comscore",e)}(window.videojs)}).call(this);
//# sourceMappingURL=videojs.comscore.js.map